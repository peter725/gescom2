<mat-form-field class="w-full">
  <mat-label>{{ container.label }}</mat-label>

  <div matPrefix class="mr-2 flex justify-between items-center">
    <mat-icon
      class="cursor-help"
      [title]="'generic.actions.selectOne' | translate"
    >unfold_more</mat-icon>
  </div>

  <input
    matInput
    type="text"
    [formControl]="container.formCtrl"
    [matAutocomplete]="comboAuto"
  >

  <mat-autocomplete
    #comboAuto="matAutocomplete"
    autoActiveFirstOption
    [displayWith]="displayComboFn"
    class="slim__scrollbar"
    (optionSelected)="optionSelected($event.option.value)"
  >
    <mat-option
      *ngFor="let item of (comboValues | async); trackBy: trackComboBy"
      [value]="item"
    >
      <span>{{ item.value }}</span>
      <small class="ml-2 font-light decoration-text-accent-lighter-color">({{ item.code }})</small>
    </mat-option>
  </mat-autocomplete>

  <div matSuffix class="flex justify-between items-center">
    <mat-icon
      *ngIf="helpIndicator$ | async"
      class="cursor-help"
      [title]="container.label + ': ' + container.description"
    >help_outline
    </mat-icon>

    <button
      *ngIf="container.formCtrl.value"
      mat-icon-button
      matSuffix
      type="button"
      (click)="resetValue()"
    >
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <mat-error>
    {{ container.formCtrl.errors | extractValidationError }}
  </mat-error>
</mat-form-field>
